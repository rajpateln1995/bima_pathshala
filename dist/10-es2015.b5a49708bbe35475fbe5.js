(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{bPV0:function(e,t,n){"use strict";n.r(t),n.d(t,"ExpenseManagerModule",(function(){return y}));var a=n("ofXK"),r=n("tyNb"),s=n("tk/3"),l=n("AytR"),o=n("lGQG"),i=n("fXoL");let d=(()=>{class e{constructor(e,t){this.http=e,this.auth=t,this.base_url=l.a.base_url}getAllExpense(){let e=new s.f;return e=e.append("Authorization",this.auth.getToken()),this.http.get(this.base_url+"/expense",{headers:e})}updateExpense(e){let t=new s.f;return t=t.append("Authorization",this.auth.getToken()),this.http.put(this.base_url+"/expense",e,{headers:t})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275inject"](s.b),i["\u0275\u0275inject"](o.a))},e.\u0275prov=i["\u0275\u0275defineInjectable"]({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var c=n("aceb");function m(e,t){if(1&e&&(i["\u0275\u0275elementStart"](0,"th"),i["\u0275\u0275text"](1),i["\u0275\u0275elementEnd"]()),2&e){const e=t.$implicit;i["\u0275\u0275advance"](1),i["\u0275\u0275textInterpolate"](e)}}function p(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"tbody"),i["\u0275\u0275elementStart"](1,"tr"),i["\u0275\u0275elementStart"](2,"td",9),i["\u0275\u0275text"](3,"No Data Available"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]())}function u(e,t){1&e&&i["\u0275\u0275element"](0,"tbody")}function h(e,t){if(1&e){const e=i["\u0275\u0275getCurrentView"]();i["\u0275\u0275elementStart"](0,"tr"),i["\u0275\u0275elementStart"](1,"td"),i["\u0275\u0275text"](2),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](3,"td"),i["\u0275\u0275text"](4),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](5,"td"),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"td"),i["\u0275\u0275text"](8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](9,"td",10),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"](2).showUser(n.userId)})),i["\u0275\u0275element"](10,"i",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"td"),i["\u0275\u0275elementStart"](12,"a",12),i["\u0275\u0275element"](13,"i",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](14,"td",10),i["\u0275\u0275listener"]("click",(function(){i["\u0275\u0275restoreView"](e);const n=t.$implicit;return i["\u0275\u0275nextContext"](2).viewSession(n._id,n.status)})),i["\u0275\u0275element"](15,"i",11),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()}if(2&e){const e=t.$implicit,n=i["\u0275\u0275nextContext"](2);i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.name),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.displayTime),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](e.amount),i["\u0275\u0275advance"](2),i["\u0275\u0275textInterpolate"](n.status[e.status]),i["\u0275\u0275advance"](4),i["\u0275\u0275propertyInterpolate"]("href",e.billLink,i["\u0275\u0275sanitizeUrl"])}}function g(e,t){if(1&e&&(i["\u0275\u0275elementContainerStart"](0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"div",2),i["\u0275\u0275elementStart"](3,"div",3),i["\u0275\u0275elementStart"](4,"div",4),i["\u0275\u0275elementStart"](5,"b"),i["\u0275\u0275text"](6),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](7,"div",5),i["\u0275\u0275elementStart"](8,"div",6),i["\u0275\u0275elementStart"](9,"table",7),i["\u0275\u0275elementStart"](10,"thead"),i["\u0275\u0275elementStart"](11,"tr"),i["\u0275\u0275template"](12,m,2,1,"th",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275template"](13,p,4,0,"tbody",0),i["\u0275\u0275template"](14,u,1,0,"tbody",0),i["\u0275\u0275elementStart"](15,"tbody"),i["\u0275\u0275template"](16,h,16,5,"tr",8),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementContainerEnd"]()),2&e){const e=i["\u0275\u0275nextContext"]();i["\u0275\u0275advance"](6),i["\u0275\u0275textInterpolate1"]("Expenses [Total : ",e.total,"]"),i["\u0275\u0275advance"](6),i["\u0275\u0275property"]("ngForOf",e.table_head),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",0===e.total),i["\u0275\u0275advance"](1),i["\u0275\u0275property"]("ngIf",0!==e.total),i["\u0275\u0275advance"](2),i["\u0275\u0275property"]("ngForOf",e.Data)}}let f=(()=>{class e{constructor(e,t,n){this.expenses=e,this.router=t,this.toaster=n,this.total=0,this.limit="50",this.table_head=["Name","Date","Amount","Status","User Details","Bill Image","View / Edit"],this.status=["","Pending","Approved","Sent Back"]}ngOnInit(){this.getExpenses()}getExpenses(){this.expenses.getAllExpense().subscribe(e=>{console.log(e),this.Data=e.data,this.total=this.Data.length},e=>{console.log(e),this.toaster.show("Something Went Wrong !","Error",{status:"danger"})})}changeLimit(e){this.limit=e,this.getExpenses()}viewSession(e,t){console.log(this.Data.status),this.router.navigateByUrl(`/pages/expense-manager/edit/${e}/${t}`)}showUser(e){this.router.navigateByUrl("/pages/users/user-details/guru/"+e)}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](d),i["\u0275\u0275directiveInject"](r.c),i["\u0275\u0275directiveInject"](c.lb))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-all-expense"]],decls:1,vars:1,consts:[[4,"ngIf"],[1,"row"],[1,"col-lg-12"],[1,"card"],[1,"card-header"],[1,"card-body"],[1,"responsive"],[1,"table","table-bordered","table-striped","table-md","text-center"],[4,"ngFor","ngForOf"],[2,"text-align","center"],[2,"color","#28a745","cursor","pointer",3,"click"],["aria-hidden","true",1,"fa","fa-eye"],["target","_blank",3,"href"]],template:function(e,t){1&e&&i["\u0275\u0275template"](0,g,17,5,"ng-container",0),2&e&&i["\u0275\u0275property"]("ngIf",t.Data)},directives:[a.NgIf,a.NgForOf],styles:[".float[_ngcontent-%COMP%]{position:fixed;z-index:10;right:30px;bottom:30px;box-shadow:3px 3px 4px #999}"]}),e})();var x=n("3Pt+");let S=(()=>{class e{constructor(e,t,n){this.expenses=e,this.route=t,this.toaster=n}ngOnInit(){this.status=this.route.snapshot.params.status}changeStatus(){this.expenses.updateExpense({_id:this.route.snapshot.params.id,status:this.status}).subscribe(e=>{console.log(e),this.toaster.show("Changes Saved Successfully!","Changes Saved",{status:"success"})},e=>{console.log(e),this.toaster.show("Something Went Wrong !","Error",{status:"danger"})})}}return e.\u0275fac=function(t){return new(t||e)(i["\u0275\u0275directiveInject"](d),i["\u0275\u0275directiveInject"](r.a),i["\u0275\u0275directiveInject"](c.lb))},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-edit-expenses"]],decls:18,vars:1,consts:[[1,"card"],[1,"card-header"],[1,"card-body"],[1,"form-group"],["for","exampleFormControlSelect1"],["id","exampleFormControlSelect1",1,"form-control",3,"ngModel","ngModelChange"],["value","1"],["value","2"],["value","3"],[1,"text-center"],["nbButton","","size","medium","status","success",1,"mr-2",3,"click"]],template:function(e,t){1&e&&(i["\u0275\u0275elementStart"](0,"div",0),i["\u0275\u0275elementStart"](1,"div",1),i["\u0275\u0275elementStart"](2,"b"),i["\u0275\u0275text"](3,"Edit Expense"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](4,"div",2),i["\u0275\u0275elementStart"](5,"div",3),i["\u0275\u0275elementStart"](6,"label",4),i["\u0275\u0275text"](7,"Change Status"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](8,"select",5),i["\u0275\u0275listener"]("ngModelChange",(function(e){return t.status=e})),i["\u0275\u0275elementStart"](9,"option",6),i["\u0275\u0275text"](10,"Pending"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](11,"option",7),i["\u0275\u0275text"](12,"Approved"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](13,"option",8),i["\u0275\u0275text"](14,"Sent Back"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementStart"](15,"div",9),i["\u0275\u0275elementStart"](16,"button",10),i["\u0275\u0275listener"]("click",(function(){return t.changeStatus()})),i["\u0275\u0275text"](17,"Submit"),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"](),i["\u0275\u0275elementEnd"]()),2&e&&(i["\u0275\u0275advance"](8),i["\u0275\u0275property"]("ngModel",t.status))},directives:[x.SelectControlValueAccessor,x.NgControlStatus,x.NgModel,x.NgSelectOption,x["\u0275angular_packages_forms_forms_x"],c.o],styles:[""]}),e})();const v=[{path:"",component:(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=i["\u0275\u0275defineComponent"]({type:e,selectors:[["ngx-expense-manager"]],decls:1,vars:0,template:function(e,t){1&e&&i["\u0275\u0275element"](0,"router-outlet")},directives:[r.h],styles:[""]}),e})(),children:[{path:"",redirectTo:"all-expenses",pathMatch:"full"},{path:"all-expenses",component:f},{path:"edit/:id/:status",component:S}]}];let E=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[r.g.forChild(v)],r.g]}),e})();var b=n("tR1z");let y=(()=>{class e{}return e.\u0275mod=i["\u0275\u0275defineNgModule"]({type:e}),e.\u0275inj=i["\u0275\u0275defineInjector"]({factory:function(t){return new(t||e)},imports:[[a.CommonModule,E,c.D,b.a,c.p,c.F,x.FormsModule,c.w,c.hb,c.t,c.k,c.W]]}),e})()}}]);